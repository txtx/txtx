export const metadata = {
    title: "Solana and SVM Compatible Blockchains (beta) Functions",
    description: "Functions for Solana and SVM Compatible Blockchains (beta)",
};

# Solana and SVM Compatible Blockchains (beta) Functions {{ id: "svm-functions" }}


## system_program_id {{ tag: 'function' }}

<Row>
  <Col>

`svm::system_program_id` returns the id of the system program, `11111111111111111111111111111111`.

### Inputs

<Properties>


  None

</Properties>

### Output

<Properties>
  <Property name="value" type="addon(svm::pubkey)">
    The system program id.
  </Property>
</Properties>


<CodeGroup title="Example using system_program_id">


```hcl {{ title: 'main.tx' }}
output "system_program_id" { 
    value = svm::system_program_id()
}
// > 11111111111111111111111111111111

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## default_pubkey {{ tag: 'function' }}

<Row>
  <Col>

`svm::default_pubkey` returns a default public key, `11111111111111111111111111111111`.

### Inputs

<Properties>


  None

</Properties>

### Output

<Properties>
  <Property name="value" type="addon(svm::pubkey)">
    The default public key, `11111111111111111111111111111111`
  </Property>
</Properties>


<CodeGroup title="Example using default_pubkey">


```hcl {{ title: 'main.tx' }}
output "default_pubkey" { 
    value = svm::default_pubkey()
}
// > 11111111111111111111111111111111

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## get_instruction_data_from_idl_path {{ tag: 'function' }}

<Row>
  <Col>

`svm::get_instruction_data_from_idl_path` creates encoded instruction data for a program invocation, providing type checking and serialization based on the provided IDL file.

### Inputs

<Properties>


  <Property name="idl_path" required="required" type="string">
    The path, relative to the txtx.yml, to the IDL `.json` file.
  </Property>


  <Property name="instruction_name" required="required" type="string">
    The name of the instruction to generate data for, as indexed by the IDL.
  </Property>


  <Property name="arguments" required="optional" type="array[string]">
    The instruction arguments to generate data for.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="buffer">
    The encoded instruction data.
  </Property>
</Properties>


<CodeGroup title="Example using get_instruction_data_from_idl_path">


```hcl {{ title: 'main.tx' }}
output "data" {
    value = svm::get_instruction_data_from_idl("/path/to/idl.json", "my_instruction", ["arg1", "arg2"])
}
// > data: 0x95763bdcc47fa1b305000000776f726c64

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## get_instruction_data_from_idl {{ tag: 'function' }}

<Row>
  <Col>

`svm::get_instruction_data_from_idl_path` creates encoded instruction data for a program invocation, providing type checking and serialization based on the provided IDL data.

### Inputs

<Properties>


  <Property name="idl" required="required" type="addon(svm::idl) | string">
    The program IDL.
  </Property>


  <Property name="instruction_name" required="required" type="string">
    The name of the instruction to generate data for, as indexed by the IDL.
  </Property>


  <Property name="arguments" required="optional" type="array[string]">
    The instruction arguments to generate data for.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="buffer">
    The encoded instruction data.
  </Property>
</Properties>


<CodeGroup title="Example using get_instruction_data_from_idl">


```hcl {{ title: 'main.tx' }}
output "data" {
    value = svm::get_instruction_data_from_idl(variable.idl, "my_instruction", ["arg1", "arg2"])
}
// > data: 0x95763bdcc47fa1b305000000776f726c64

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## get_program_from_anchor_project {{ tag: 'function' }}

<Row>
  <Col>

`svm::get_program_from_anchor_project` retrieves the program deployment artifacts for a program in an Anchor project.

### Inputs

<Properties>


  <Property name="program_name" required="required" type="string">
    The name of the program being deployed.
  </Property>


  <Property name="keypair_path" required="optional" type="string | null">
    The location of the program keypair file. Defaults to `./target/deploy/<program_name>-keypair.json`.
  </Property>


  <Property name="idl_path" required="optional" type="string | null">
    The location of the program IDL file. Defaults to `./target/idl/<program_name>.json`.
  </Property>


  <Property name="bin_path" required="optional" type="string | null">
    The location of the program binary file. Defaults to `./target/deploy/<program_name>.so`.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="object">
    An object containing the anchor program artifacts.
  </Property>
</Properties>


<CodeGroup title="Example using get_program_from_anchor_project">


```hcl {{ title: 'main.tx' }}
variable "contract" {
    value = svm::get_program_from_anchor_project("my_program")
}
output "idl" {
    value = variable.contract.idl
}    

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## get_program_from_native_project {{ tag: 'function' }}

<Row>
  <Col>

`svm::get_program_from_native_project` retrieves the program deployment artifacts for a non-Anchor program.

### Inputs

<Properties>


  <Property name="program_name" required="required" type="string">
    The name of the program being deployed.
  </Property>


  <Property name="keypair_path" required="optional" type="string | null">
    The location of the program keypair file. Defaults to `./target/deploy/<program_name>-keypair.json`.
  </Property>


  <Property name="idl_path" required="optional" type="string | null">
    The location of the program IDL file. Defaults to `./idl/<program_name>.json`.
  </Property>


  <Property name="bin_path" required="optional" type="string | null">
    The location of the program binary file. Defaults to `./target/deploy/<program_name>.so`.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="object">
    An object containing the native program artifacts.
  </Property>
</Properties>


<CodeGroup title="Example using get_program_from_native_project">


```hcl {{ title: 'main.tx' }}
variable "contract" {
    value = svm::get_program_from_native_project("my_program")
}
output "idl" {
    value = variable.contract.idl
}

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## sol_to_lamports {{ tag: 'function' }}

<Row>
  <Col>

`svm::sol_to_lamports` converts the provided SOL amount to lamports.

### Inputs

<Properties>


  <Property name="sol_amount" required="required" type="integer | float">
    The amount of SOL to convert to lamports.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="integer">
    The amount of SOL provided, represented as lamports.
  </Property>
</Properties>


<CodeGroup title="Example using sol_to_lamports">


```hcl {{ title: 'main.tx' }}
output "lamports" {
    value = svm::sol_to_lamports(1.1)
}
// lamports: 1100000000

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## lamports_to_sol {{ tag: 'function' }}

<Row>
  <Col>

`svm::lamports_to_sol` converts the provided number of lamports amount to SOL.

### Inputs

<Properties>


  <Property name="lamports_amount" required="required" type="integer">
    The amount of lamports to convert to SOL.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="float">
    The number of lamports provided, represented as SOL.
  </Property>
</Properties>


<CodeGroup title="Example using lamports_to_sol">


```hcl {{ title: 'main.tx' }}
output "sol" {
    value = svm::lamports_to_sol(1100000000)
}
// sol: 1.1

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## find_pda {{ tag: 'function' }}

<Row>
  <Col>

`svm::find_pda` finds a valid pda using the provided program id and seeds.

### Inputs

<Properties>


  <Property name="program_id" required="required" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the program the PDA is derived from.
  </Property>


  <Property name="seeds" required="optional" type="array[string]">
    An optional array of seeds that will be used to derive the PDA. A maximum of 16 seeds can be used, and each seed can have a maximum length of 32 bytes.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="object">
    An object containing the PDA address and associated bump seed.
  </Property>
</Properties>


<CodeGroup title="Example using find_pda">


```hcl {{ title: 'main.tx' }}
variable "pda" {
    value = svm::find_pda("3bv3j4GvMPjvvBX9QdoX27pVoWhDSXpwKZipFF1QiVr6", ["data"])
}
output "pda" {
    value = std::encode_base58(variable.pda.pda)
}
output "bump" {
    value = variable.pda.bump_seed
}
// > pda: 4amHoWMBgLkPfM8Nq9ZP33Liq9FCuqrLoU1feejkdsUJ
// > bump: 252

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## get_associated_token_account {{ tag: 'function' }}

<Row>
  <Col>

`svm::get_associated_token_account` computes the address of the associated token account for the provided wallet and token mint addresses.

### Inputs

<Properties>


  <Property name="wallet_address" required="required" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the wallet to compute the associated token account for.
  </Property>


  <Property name="token_mint_address" required="optional" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the token mint used to compute the token account.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="addon(svm::pubkey)">
    The address of the associated token account.
  </Property>
</Properties>


<CodeGroup title="Example using get_associated_token_account">


```hcl {{ title: 'main.tx' }}
variable "token_account" {
    value = svm::get_associated_token_account(signer.caller.address, "So11111111111111111111111111111111111111112")
}

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## create_token_account_instruction {{ tag: 'function' }}

<Row>
  <Col>

`svm::create_token_account_instruction` creates raw instruction bytes to create an associated token account.

### Inputs

<Properties>


  <Property name="funding_address" required="required" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the funding account.
  </Property>


  <Property name="wallet_address" required="required" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the wallet to compute the associated token account for.
  </Property>


  <Property name="token_mint_address" required="optional" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the token mint used to compute the token account.
  </Property>


  <Property name="token_program_id" required="optional" type="string | addon(svm::pubkey) | addon(svm::address)">
    The address of the token program used to compute the token account.
  </Property>



</Properties>

### Output

<Properties>
  <Property name="value" type="addon(svm::pubkey)">
    The serialized instruction bytes.
  </Property>
</Properties>


<CodeGroup title="Example using create_token_account_instruction">


```hcl {{ title: 'main.tx' }}
action "call" "svm::process_instructions" {
    signers = [signer.caller]

    instruction { 
        raw_bytes = svm::create_token_account_instruction(
            signer.caller.address, // funding address
            signer.caller.address, // wallet address
            variable.token_mint, // token mint address
            variable.token_program // token program id
        )
    }
}

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---

