export const metadata = {
    title: "Stacks Blockchain",
    description: "Add-on for Stacks Blockchain",
};

# Stacks Blockchain {{ id: "stacks-constructs" }}

The Stacks `txtx` plugin enables building Runbooks that interact with the Stacks blockchain. 
The plugin provides utility functions that allow you to encode data in the proper Clarity format that is required by contracts on the Stacks blockchain.
The actions can be used to create valid transfer, contract call, and contract deployment transactions that can be signed via a mnemonic phrase or via your browser wallet. 


---


## cv_uint {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_uint` returns the given number as a Clarity `uint`.

### Inputs

<Properties>


  <Property name="clarity_value">
    A positive integer between 0 and 2<sup>128</sup>-1.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input integer as a Clarity `uint`.
  </Property>
</Properties>


<CodeGroup title="Example using cv_uint">


```hcl {{ title: 'main.tx' }}
output "my_uint" { 
  value = stacks::cv_uint(1)
}
// > my_uint: 0x0100000000000000000000000000000001

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_int {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_int` returns the given number as a Clarity `int`.

### Inputs

<Properties>


  <Property name="clarity_value">
    An integer between -2<sup>127</sup> and 2<sup>127</sup>-1.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input integer as a Clarity `int`.
  </Property>
</Properties>


<CodeGroup title="Example using cv_int">


```hcl {{ title: 'main.tx' }}
output "my_int" { 
  value = stacks::cv_int(-1)
}
// > my_int: 0x00FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_principal {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_principal` returns the given string as a Clarity principal. 
A Clarity principal represents a Stacks address on the blockchain.

Clarity admits two different kinds of principals: _standard principals_ and _contract principals_. 
Standard principals (e.g. `SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE`) are backed by a corresponding private key while contract principals (e.g. `ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.pyth-oracle-v1`) point to a smart contract.


### Inputs

<Properties>


  <Property name="clarity_value">
    Any valid Clarity principal string.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input string as a Clarity principal.
  </Property>
</Properties>


<CodeGroup title="Example using cv_principal">


```hcl {{ title: 'main.tx' }}
output "my_principal" { 
  value = stacks::cv_principal("SP3FBR2AGK5H9QBDH3EEN6DF8EK8JY7RX8QJ5SVTE")
}
// > my_principal: 0x0516DEBC095099629BADB11B9D5335E874D12F1F1D45

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_string_ascii {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_string_ascii` returns the given string as a Clarity ASCII string.

### Inputs

<Properties>


  <Property name="clarity_value">
    Any valid ASCII string.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input string as a Clarity ASCII string.
  </Property>
</Properties>


<CodeGroup title="Example using cv_string_ascii">


```hcl {{ title: 'main.tx' }}
output "my_ascii" { 
  value = stacks::cv_string_ascii("my ascii string")
}
// > my_ascii: 0x0D0000000F6D7920617363696920737472696E67

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_string_utf8 {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_string_utf8` returns the given string as a Clarity UTF-8 string.

### Inputs

<Properties>


  <Property name="clarity_value">
    Any valid UTF-8 string.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input string as a Clarity UTF-8 string.
  </Property>
</Properties>


<CodeGroup title="Example using cv_string_utf8">


```hcl {{ title: 'main.tx' }}
output "my_utf8" { 
  value = stacks::cv_string_utf8("🍊")
}
// > my_utf8: 0x0E00000004F09F8D8A

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_tuple {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_tuple` returns the given object as a Clarity tuple.

### Inputs

<Properties>


  <Property name="clarity_value">
    An object where each key is a string and each value is a valid Clarity value.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input object as a Clarity tuple.
  </Property>
</Properties>


<CodeGroup title="Example using cv_tuple">


```hcl {{ title: 'main.tx' }}
output "my_tuple" { 
  value = stacks::cv_tuple({ "key": stacks::cv_uint(1) })
}
// > my_tuple: 0x0C00000001036B65790100000000000000000000000000000001

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_buff {{ tag: 'function' }}

<Row>
  <Col>

`stacks::cv_buff` returns the given hex string as a Clarity buffer.

### Inputs

<Properties>


  <Property name="clarity_value">
    A hex string.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input string as a Clarity buffer.
  </Property>
</Properties>


<CodeGroup title="Example using cv_buff">


```hcl {{ title: 'main.tx' }}
output "my_buffer" { 
  value = stacks::cv_buff("0x010203")
}
// > my_buffer: 0x0200000003010203

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_ok {{ tag: 'function' }}

<Row>
  <Col>

Coming soon - `stacks::cv_ok` returns the given Clarity value wrapped in an `Ok` Clarity type.

### Inputs

<Properties>


  <Property name="clarity_value">
    Any valid Clarity value.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input wrapped in an `Ok` Clarity type.
  </Property>
</Properties>


<CodeGroup title="Example using cv_ok">


```hcl {{ title: 'main.tx' }}
// Coming soon 
```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## cv_err {{ tag: 'function' }}

<Row>
  <Col>

Coming soon - `stacks::cv_err` returns the given Clarity value wrapped in an `Err` Clarity type.

### Inputs

<Properties>


  <Property name="clarity_value">
    Any valid Clarity value.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The input wrapped in an `Err` Clarity type.
  </Property>
</Properties>


<CodeGroup title="Example using cv_err">


```hcl {{ title: 'main.tx' }}
// Coming soon 
```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---


## decode_ok {{ tag: 'function' }}

<Row>
  <Col>

`stacks::decode_ok` returns the inner value as a Clarity buffer.

### Inputs

<Properties>


  <Property name="clarity_value">
    Any valid Clarity value.
  </Property>


</Properties>

### Output

<Properties>
  <Property name="value">
    The inner value that was wrapped in an `(ok <inner>)` Clarity type.
  </Property>
</Properties>


<CodeGroup title="Example using decode_ok">


```hcl {{ title: 'main.tx' }}
// Coming soon 
```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>
</Col>
</Row>

---



## sign_transaction {{ tag: 'action' }}

The `sign_transaction` action signs an encoded transaction payload with the supplied wallet data.

### Inputs

<Properties>


  <Property name="description" type="optional">
    Description of the transaction
  </Property>


  <Property name="transaction_payload_bytes" type="required">
    The transaction payload bytes, encoded as a clarity buffer.
  </Property>


  <Property name="network_id" type="optional">
    The network id, which is used to set the transaction version. Can be `"testnet"` or `"mainnet"`.
  </Property>


  <Property name="signer" type="required">
    A reference to a wallet construct, which will be used to sign the transaction payload.
  </Property>


  <Property name="nonce" type="required">
    The account nonce of the signer. This value will be retrieved from the network if omitted.
  </Property>


  <Property name="fee" type="required">
    The transaction fee. This value will automatically be estimated if omitted.
  </Property>


</Properties>

### Outputs

<Note>

When the `sign_transaction` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="signed_transaction_bytes">
    The signed transaction bytes.
  </Property>


  <Property name="network_id">
    Network id of the signed transaction.
  </Property>


</Properties>

<CodeGroup title="Example using sign_transaction">


```hcl {{ title: 'main.tx' }}
action "my_ref" "stacks::sign_transaction" {
    transaction_payload_bytes = stacks::cv_buff("0x021A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0E707974682D6F7261636C652D76311D7665726966792D616E642D7570646174652D70726963652D66656564730000000202000000030102030C0000000315707974682D6465636F6465722D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE14707974682D706E61752D6465636F6465722D763115707974682D73746F726167652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0D707974682D73746F72652D763116776F726D686F6C652D636F72652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE10776F726D686F6C652D636F72652D7631")
    nonce = 1
    fee = 1200
    network_id = "testnet"
}
output "signed_bytes" {
  value = action.my_ref.signed_transaction_bytes
}
// > signed_bytes: 0x8080000000040063A5EDA39412C016478AE5A8C300843879F78245000000000000000100000000000004B0000182C1712C31B7F683F6C56EEE8920892F735FC0118C98FD10C1FDAA85ABEC2808063773E5F61229D76B29784B8BBBBAAEA72EEA701C92A4FE15EF3B9E32A373D8020100000000021A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0E707974682D6F7261636C652D76311D7665726966792D616E642D7570646174652D70726963652D66656564730000000202000000030102030C0000000315707974682D6465636F6465722D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE14707974682D706E61752D6465636F6465722D763115707974682D73746F726167652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0D707974682D73746F72652D763116776F726D686F6C652D636F72652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE10776F726D686F6C652D636F72652D7631

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## decode_call_contract {{ tag: 'action' }}

Coming soon

### Inputs

<Properties>


  <Property name="bytes" type="required">
    The contract call transaction bytes to decode.
  </Property>


</Properties>

### Outputs

<Note>

When the `decode_call_contract` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="contract_id">
    The contract identifier.
  </Property>


  <Property name="function_name">
    The function name.
  </Property>


  <Property name="function_args">
    The function arguments.
  </Property>


  <Property name="nonce">
    The transaction nonce.
  </Property>


  <Property name="signer">
    The transaction signer.
  </Property>


  <Property name="fee">
    The transaction fee.
  </Property>


</Properties>

<CodeGroup title="Example using decode_call_contract">


```hcl {{ title: 'main.tx' }}
// Coming soon

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## call_contract {{ tag: 'action' }}

The `call_contract` action encodes a valid contract call payload and serializes it as a hex string.

### Inputs

<Properties>


  <Property name="contract_id" type="required">
    The address and identifier of the contract to invoke.
  </Property>


  <Property name="function_name" type="required">
    The contract method to invoke.
  </Property>


  <Property name="function_args" type="optional">
    The function arguments for the contract call.
  </Property>


  <Property name="network_id" type="optional">
    The network id used to validate the transaction version.
  </Property>


  <Property name="depends_on" type="optional">
    References another command's outputs, preventing this command from executing until the referenced command is successful.
  </Property>


</Properties>

### Outputs

<Note>

When the `call_contract` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="bytes">
    The encoded contract call bytes.
  </Property>


  <Property name="network_id">
    The network id of the encoded transaction.
  </Property>


</Properties>

<CodeGroup title="Example using call_contract">


```hcl {{ title: 'main.tx' }}
action "my_ref" "stacks::call_contract" {
    description = "Encodes the contract call transaction."
    contract_id = "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.pyth-oracle-v1"
    function_name = "verify-and-update-price-feeds"
    function_args = [
        stacks::cv_buff(output.bitcoin_price_feed),
        stacks::cv_tuple({
            "pyth-storage-contract": stacks::cv_principal("${env.pyth_deployer}.pyth-store-v1"),
            "pyth-decoder-contract": stacks::cv_principal("${env.pyth_deployer}.pyth-pnau-decoder-v1"),
            "wormhole-core-contract": stacks::cv_principal("${env.pyth_deployer}.wormhole-core-v1")
        })
    ]
}
output "bytes" {
  value = action.my_ref.bytes
}
output "network_id" {
  value = action.my_ref.network_id
}
// > bytes: 0x021A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0E707974682D6F7261636C652D76311D7665726966792D616E642D7570646174652D70726963652D66656564730000000202000000030102030C0000000315707974682D6465636F6465722D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE14707974682D706E61752D6465636F6465722D763115707974682D73746F726167652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0D707974682D73746F72652D763116776F726D686F6C652D636F72652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE10776F726D686F6C652D636F72652D7631
// > network_id: testnet

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## deploy_contract {{ tag: 'action' }}

Coming soon

### Inputs

<Properties>


  <Property name="clarity_value" type="optional">
    
  </Property>


</Properties>

### Outputs

<Note>

When the `deploy_contract` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="bytes">
    
  </Property>


</Properties>

<CodeGroup title="Example using deploy_contract">


```hcl {{ title: 'main.tx' }}
// Coming soon

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## broadcast_transaction {{ tag: 'action' }}

The `broadcast_transaction` action sends a signed transaction payload to the specified network.

### Inputs

<Properties>


  <Property name="signed_transaction_bytes" type="required">
    The signed transaction bytes that will be broadcasted to the network.
  </Property>


  <Property name="rpc_api_url" type="optional">
    The URL of the Stacks API to broadcast to.
  </Property>


  <Property name="confirmations" type="optional">
    Once the transaction is included on a block, the number of blocks to await before the transaction is considered successful and Runbook execution continues.
  </Property>


</Properties>

### Outputs

<Note>

When the `broadcast_transaction` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="tx_id">
    The transaction id.
  </Property>


  <Property name="result">
    The transaction result.
  </Property>


</Properties>

<CodeGroup title="Example using broadcast_transaction">


```hcl {{ title: 'main.tx' }}
action "my_ref" "stacks::broadcast_transaction" {
    description = "Broadcasts the signed transaction bytes"
    signed_transaction_bytes = "0x8080000000040063A5EDA39412C016478AE5A8C300843879F78245000000000000000100000000000004B0000182C1712C31B7F683F6C56EEE8920892F735FC0118C98FD10C1FDAA85ABEC2808063773E5F61229D76B29784B8BBBBAAEA72EEA701C92A4FE15EF3B9E32A373D8020100000000021A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0E707974682D6F7261636C652D76311D7665726966792D616E642D7570646174652D70726963652D66656564730000000202000000030102030C0000000315707974682D6465636F6465722D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE14707974682D706E61752D6465636F6465722D763115707974682D73746F726167652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0D707974682D73746F72652D763116776F726D686F6C652D636F72652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE10776F726D686F6C652D636F72652D7631"
}
output "tx_id" {
  value = action.my_ref.tx_id
}
output "result" {
  value = action.my_ref.result
}
// > tx_id: 0x...
// > result: success

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## call_readonly_fn {{ tag: 'action' }}

The `call_readonly_fn` action queries a public readonly function.

### Inputs

<Properties>


  <Property name="contract_id" type="required">
    The address and identifier of the contract to invoke.
  </Property>


  <Property name="function_name" type="required">
    The contract method to invoke.
  </Property>


  <Property name="function_args" type="optional">
    The function arguments for the contract call.
  </Property>


  <Property name="rpc_api_url" type="optional">
    The URL of the Stacks API to broadcast to.
  </Property>


  <Property name="sender" type="optional">
    The simulated tx-sender to use.
  </Property>


  <Property name="block_height" type="optional">
    Coming soon.
  </Property>


</Properties>

### Outputs

<Note>

When the `call_readonly_fn` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="value">
    The result of the function execution.
  </Property>


</Properties>

<CodeGroup title="Example using call_readonly_fn">


```hcl {{ title: 'main.tx' }}
        
```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## set_default_network {{ tag: 'action' }}

The `set_default_network` action can be used to set default network data for Stacks Runbook inputs.
Any commands that have an input that matches the name of one of these default inputs will automatically have these default inputs applied.
This allows for more terse Runbooks, as some redundant data can be omitted.

For example, the `network_id` input is used in many Stacks txtx commands. 
By setting this input once with `set_default_network`, the `network_id` can be omitted from subsequent Stacks txtx commands.


### Inputs

<Properties>


  <Property name="network_id" type="required">
    A default Stacks network id to use. Valid values are `"mainnet"` and `"testnet"`.
  </Property>


  <Property name="rpc_api_url" type="required">
    A default Stacks API RPC URL to use.
  </Property>


</Properties>

### Outputs

<Note>

When the `set_default_network` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


</Properties>

<CodeGroup title="Example using set_default_network">


```hcl {{ title: 'main.tx' }}
action "my_ref" "stacks::set_default_network" {
    description = "Sets the default network id and Stacks API url."
    network_id = "mainnet"
    rpc_api_url = "https://api.mainnet.hiro.so"
}
prompt "signed_bytes" "stacks::sign_transaction" {
  transaction_payload_bytes = stacks::cv_buff("0x021A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0E707974682D6F7261636C652D76311D7665726966792D616E642D7570646174652D70726963652D66656564730000000202000000030102030C0000000315707974682D6465636F6465722D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE14707974682D706E61752D6465636F6465722D763115707974682D73746F726167652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0D707974682D73746F72652D763116776F726D686F6C652D636F72652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE10776F726D686F6C652D636F72652D7631")
  // network_id = "testnet" // note, the network_id can be omitted
}
output "signed_bytes" {
  value = prompt.my_ref.signed_transaction_bytes
}
// > signed_bytes: 0x8080000000040063A5EDA39412C016478AE5A8C300843879F78245000000000000000100000000000004B0000182C1712C31B7F683F6C56EEE8920892F735FC0118C98FD10C1FDAA85ABEC2808063773E5F61229D76B29784B8BBBBAAEA72EEA701C92A4FE15EF3B9E32A373D8020100000000021A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0E707974682D6F7261636C652D76311D7665726966792D616E642D7570646174652D70726963652D66656564730000000202000000030102030C0000000315707974682D6465636F6465722D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE14707974682D706E61752D6465636F6465722D763115707974682D73746F726167652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE0D707974682D73746F72652D763116776F726D686F6C652D636F72652D636F6E7472616374061A6D78DE7B0625DFBFC16C3A8A5735F6DC3DC3F2CE10776F726D686F6C652D636F72652D7631

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## call_contract {{ tag: 'action' }}

The `call_contract` action encodes a contract call transaction, signs the transaction using an in-browser wallet, and broadcasts the signed transaction to the network.

### Inputs

<Properties>


  <Property name="contract_id" type="required">
    The address and identifier of the contract to invoke.
  </Property>


  <Property name="function_name" type="required">
    The contract method to invoke.
  </Property>


  <Property name="function_args" type="optional">
    The function arguments for the contract call.
  </Property>


  <Property name="network_id" type="optional">
    The network id used to validate the transaction version.
  </Property>


  <Property name="signer" type="required">
    A reference to a wallet construct, which will be used to sign the transaction payload.
  </Property>


  <Property name="confirmations" type="optional">
    Once the transaction is included on a block, the number of blocks to await before the transaction is considered successful and Runbook execution continues.
  </Property>


  <Property name="nonce" type="required">
    The account nonce of the signer. This value will be retrieved from the network if omitted.
  </Property>


  <Property name="fee" type="optional">
    The transaction fee. This value will automatically be estimated if omitted.
  </Property>


  <Property name="depends_on" type="optional">
    References another command's outputs, preventing this command from executing until the referenced command is successful.
  </Property>


</Properties>

### Outputs

<Note>

When the `call_contract` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="signed_transaction_bytes">
    The signed transaction bytes.
  </Property>


  <Property name="tx_id">
    The transaction id.
  </Property>


  <Property name="result">
    The transaction result.
  </Property>


</Properties>

<CodeGroup title="Example using call_contract">


```hcl {{ title: 'main.tx' }}
action "my_ref" "stacks::call_contract" {
    description = "Encodes the contract call, sign, and broadcasts the set-token function."
    contract_id = "ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM.pyth-oracle-v1"
    function_name = "verify-and-update-price-feeds"
    function_args = [
        stacks::cv_buff(output.bitcoin_price_feed),
        stacks::cv_tuple({
            "pyth-storage-contract": stacks::cv_principal("${env.pyth_deployer}.pyth-store-v1"),
            "pyth-decoder-contract": stacks::cv_principal("${env.pyth_deployer}.pyth-pnau-decoder-v1"),
            "wormhole-core-contract": stacks::cv_principal("${env.pyth_deployer}.wormhole-core-v1")
        })
    ]
    signer = wallet.alice
}            
output "tx_id" {
value = action.my_ref.tx_id
}
output "result" {
value = action.my_ref.result
}
// > tx_id: 0x...
// > result: success

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---



## mnemonic {{ tag: 'wallet' }}

The `mnemonic` wallet can be used to synchronously sign a transaction.

### Inputs

<Properties>


  <Property name="mnemonic" type="">
    The mnemonic phrase used to generate the secret key.
  </Property>


  <Property name="derivation_path" type="">
    The derivation path used to generate the secret key.
  </Property>


  <Property name="is_encrypted" type="">
    Coming soon
  </Property>


  <Property name="password" type="">
    Coming soon
  </Property>


</Properties>

### Outputs

<Note>

When the `mnemonic` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="public_key">
    The public key of the account generated from the secret key.
  </Property>


</Properties>

<CodeGroup title="Example using mnemonic">


```hcl {{ title: 'main.tx' }}
wallet "bob" "stacks::secret_key" {
    mnemonic = "board list obtain sugar hour worth raven scout denial thunder horse logic fury scorpion fold genuine phrase wealth news aim below celery when cabin"
    derivation_path = "m/44'/5757'/0'/0/0"
}

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## connect {{ tag: 'wallet' }}

The `connect` wallet will route the transaction signing process through [Stacks.js connect](https://www.hiro.so/stacks-js).
This allows a Runbook operator to sign the transaction with the browser wallet of their choice.

### Inputs

<Properties>


  <Property name="expected_address" type="">
    The Stacks address that is expected to connect to the Runbook execution. Omitting this field will allow any address to be used for this wallet.
  </Property>


</Properties>

### Outputs

<Note>

When the `connect` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="public_key">
    The public key of the connected wallet.
  </Property>


</Properties>

<CodeGroup title="Example using connect">


```hcl {{ title: 'main.tx' }}
wallet "alice" "stacks::connect" {
    expected_address = "ST12886CEM87N4TP9CGV91VWJ8FXVX57R6AG1AXS4"
}

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---


## multisig {{ tag: 'wallet' }}

The `multisig` wallet creates an ordered, `n` of `n` multisig.
Each of the specified signers can be any other supported wallet type, and will be prompted to sign in the appropriate order.

### Inputs

<Properties>


  <Property name="signers" type="">
    A list of signers that make up the multisig.
  </Property>


  <Property name="expected_address" type="">
    The multisig address that is expected to be created from combining the public keys of all parties. Omitting this field will allow any address to be used for this wallet.
  </Property>


</Properties>

### Outputs

<Note>

When the `multisig` action is successfully executed, the following outputs are attached to the action

</Note>

<Properties>


  <Property name="public_key">
    The public key of the generated multisig wallet.
  </Property>


  <Property name="signers">
    The list of signers that make up the multisig.
  </Property>


</Properties>

<CodeGroup title="Example using multisig">


```hcl {{ title: 'main.tx' }}
wallet "alice" "stacks::connect" {
    expected_address = "ST2JHG361ZXG51QTKY2NQCVBPPRRE2KZB1HR05NNC"
}

wallet "bob" "stacks::connect" {
    expected_address = "ST2NEB84ASENDXKYGJPQW86YXQCEFEX2ZQPG87ND"
}

wallet "alice_and_bob" "stacks::multisig" {
    signers = [wallet.alice, wallet.bob]
}

```


```json {{ title: 'main.json' }}
// Coming soon
```

```yaml {{ title: 'main.yaml' }}
# Coming soon
```

</CodeGroup>

---

